<?php
get_header() ?>

<section class="page">
    <?php //get_template_part('template-parts/elements/page-header'); 
    ?>
    <div class="page-content --error-page-content">
        <div class="container">
            <div class="error-page__content">
                <div class="error">
                    <svg width="258" height="100" viewBox="0 0 258 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <mask id="path-1-inside-1_217_4" fill="white">
                            <path d="M128.555 0C136.586 0 143.492 1.9375 149.273 5.8125C155.086 9.6875 159.555 15.3125 162.68 22.6875C165.805 30.0313 167.352 38.9375 167.32 49.4062C167.32 59.9375 165.758 68.9375 162.633 76.4062C159.539 83.875 155.102 89.5781 149.32 93.5156C143.539 97.4531 136.617 99.4219 128.555 99.4219C120.492 99.3906 113.555 97.4062 107.742 93.4688C101.961 89.5312 97.5078 83.8281 94.3828 76.3594C91.2891 68.8906 89.7578 59.9062 89.7891 49.4062C89.7891 38.9375 91.3359 30.0156 94.4297 22.6406C97.5547 15.2656 102.008 9.65625 107.789 5.8125C113.602 1.9375 120.523 0 128.555 0ZM65.4844 64.1719H77.3906V80.4375H65.4844V97.3125H46.0781V80.4375H0V64.4531L40.0781 1.3125H65.4844V64.1719ZM245.824 1.3125V64.1719H257.73V80.4375H245.824V97.3125H226.418V80.4375H180.34V64.4531L220.418 1.3125H245.824ZM128.555 16.6406C123.086 16.6406 118.711 19.375 115.43 24.8438C112.148 30.3125 110.492 38.5 110.461 49.4062C110.461 56.7813 111.195 62.9375 112.664 67.875C114.164 72.7812 116.273 76.4687 118.992 78.9375C121.711 81.375 124.898 82.5938 128.555 82.5938C134.055 82.5938 138.445 79.8281 141.727 74.2969C145.008 68.7656 146.633 60.4688 146.602 49.4062C146.602 42.125 145.852 36.0625 144.352 31.2188C142.883 26.375 140.789 22.7344 138.07 20.2969C135.383 17.8594 132.211 16.6406 128.555 16.6406ZM226.043 23.4375L200.777 63.4219V64.1719H226.793V23.4375H226.043ZM20.4375 63.4219V64.1719H46.4531V23.4375H45.7031L20.4375 63.4219Z" />
                        </mask>
                        <path d="M149.273 5.8125L147.603 8.30451L147.609 8.30865L149.273 5.8125ZM162.68 22.6875L159.917 23.8579L159.919 23.8622L162.68 22.6875ZM167.32 49.4062L164.32 49.3973V49.4062H167.32ZM162.633 76.4062L159.865 75.2483L159.861 75.2582L162.633 76.4062ZM149.32 93.5156L151.009 95.9952V95.9952L149.32 93.5156ZM128.555 99.4219L128.543 102.422H128.555V99.4219ZM107.742 93.4688L106.053 95.9483L106.06 95.9525L107.742 93.4688ZM94.3828 76.3594L91.6112 77.5075L91.6153 77.5173L94.3828 76.3594ZM89.7891 49.4062L92.7891 49.4152V49.4062H89.7891ZM94.4297 22.6406L91.6674 21.4702L91.6632 21.4801L94.4297 22.6406ZM107.789 5.8125L109.45 8.31073L109.453 8.30865L107.789 5.8125ZM65.4844 64.1719H62.4844V67.1719H65.4844V64.1719ZM77.3906 64.1719H80.3906V61.1719H77.3906V64.1719ZM77.3906 80.4375V83.4375H80.3906V80.4375H77.3906ZM65.4844 80.4375V77.4375H62.4844V80.4375H65.4844ZM65.4844 97.3125V100.312H68.4844V97.3125H65.4844ZM46.0781 97.3125H43.0781V100.312H46.0781V97.3125ZM46.0781 80.4375H49.0781V77.4375H46.0781V80.4375ZM0 80.4375H-3V83.4375H0V80.4375ZM0 64.4531L-2.53284 62.8454L-3 63.5814V64.4531H0ZM40.0781 1.3125V-1.6875H38.429L37.5453 -0.295205L40.0781 1.3125ZM65.4844 1.3125H68.4844V-1.6875H65.4844V1.3125ZM245.824 1.3125H248.824V-1.6875H245.824V1.3125ZM245.824 64.1719H242.824V67.1719H245.824V64.1719ZM257.73 64.1719H260.73V61.1719H257.73V64.1719ZM257.73 80.4375V83.4375H260.73V80.4375H257.73ZM245.824 80.4375V77.4375H242.824V80.4375H245.824ZM245.824 97.3125V100.312H248.824V97.3125H245.824ZM226.418 97.3125H223.418V100.312H226.418V97.3125ZM226.418 80.4375H229.418V77.4375H226.418V80.4375ZM180.34 80.4375H177.34V83.4375H180.34V80.4375ZM180.34 64.4531L177.807 62.8454L177.34 63.5814V64.4531H180.34ZM220.418 1.3125V-1.6875H218.769L217.885 -0.295205L220.418 1.3125ZM115.43 24.8438L112.857 23.3003V23.3003L115.43 24.8438ZM110.461 49.4062L107.461 49.3977V49.4062H110.461ZM112.664 67.875L109.789 68.7304L109.792 68.7413L109.795 68.7521L112.664 67.875ZM118.992 78.9375L116.975 81.1585L116.982 81.1649L116.99 81.1712L118.992 78.9375ZM141.727 74.2969L144.307 75.8275V75.8275L141.727 74.2969ZM146.602 49.4062H143.602L143.602 49.4147L146.602 49.4062ZM144.352 31.2188L141.481 32.0893L141.483 32.0978L141.486 32.1062L144.352 31.2188ZM138.07 20.2969L136.055 22.519L136.061 22.5248L136.068 22.5306L138.07 20.2969ZM226.043 23.4375V20.4375H224.39L223.507 21.835L226.043 23.4375ZM200.777 63.4219L198.241 61.8193L197.777 62.5535V63.4219H200.777ZM200.777 64.1719H197.777V67.1719H200.777V64.1719ZM226.793 64.1719V67.1719H229.793V64.1719H226.793ZM226.793 23.4375H229.793V20.4375H226.793V23.4375ZM20.4375 63.4219L17.9014 61.8193L17.4375 62.5535V63.4219H20.4375ZM20.4375 64.1719H17.4375V67.1719H20.4375V64.1719ZM46.4531 64.1719V67.1719H49.4531V64.1719H46.4531ZM46.4531 23.4375H49.4531V20.4375H46.4531V23.4375ZM45.7031 23.4375V20.4375H44.05L43.167 21.835L45.7031 23.4375ZM128.555 0V3C136.085 3 142.389 4.80946 147.603 8.3045L149.273 5.8125L150.944 3.3205C144.596 -0.934461 137.087 -3 128.555 -3V0ZM149.273 5.8125L147.609 8.30865C152.866 11.8128 156.987 16.9413 159.917 23.8579L162.68 22.6875L165.442 21.5171C162.123 13.6837 157.306 7.56222 150.938 3.31635L149.273 5.8125ZM162.68 22.6875L159.919 23.8622C162.844 30.7346 164.351 39.2145 164.32 49.3973L167.32 49.4062L170.32 49.4152C170.352 38.6605 168.766 29.3279 165.44 21.5128L162.68 22.6875ZM167.32 49.4062H164.32C164.32 59.654 162.798 68.2386 159.865 75.2483L162.633 76.4062L165.4 77.5642C168.717 69.6364 170.32 60.221 170.32 49.4062H167.32ZM162.633 76.4062L159.861 75.2582C156.955 82.2733 152.858 87.4763 147.632 91.0361L149.32 93.5156L151.009 95.9952C157.345 91.6799 162.123 85.4767 165.404 77.5543L162.633 76.4062ZM149.32 93.5156L147.632 91.0361C142.421 94.5848 136.109 96.4219 128.555 96.4219V99.4219V102.422C137.125 102.422 144.657 100.321 151.009 95.9952L149.32 93.5156ZM128.555 99.4219L128.566 96.4219C121.009 96.3926 114.674 94.5406 109.425 90.985L107.742 93.4688L106.06 95.9525C112.436 100.272 119.976 102.389 128.543 102.422L128.555 99.4219ZM107.742 93.4688L109.431 90.9892C104.201 87.4275 100.087 82.2209 97.1503 75.2014L94.3828 76.3594L91.6153 77.5173C94.9283 85.4354 99.7204 91.635 106.053 95.9483L107.742 93.4688ZM94.3828 76.3594L97.1544 75.2113C94.2506 68.2011 92.7586 59.6314 92.789 49.4152L89.7891 49.4062L86.7891 49.3973C86.757 60.1811 88.3275 69.5801 91.6112 77.5075L94.3828 76.3594ZM89.7891 49.4062H92.7891C92.7891 39.2188 94.2962 30.7141 97.1961 23.8011L94.4297 22.6406L91.6632 21.4801C88.3757 29.3171 86.7891 38.6562 86.7891 49.4062H89.7891ZM94.4297 22.6406L97.1919 23.8111C100.124 16.8916 104.23 11.7815 109.45 8.31073L107.789 5.8125L106.128 3.31427C99.7858 7.53102 94.9855 13.6396 91.6674 21.4702L94.4297 22.6406ZM107.789 5.8125L109.453 8.30865C114.702 4.80934 121.025 3 128.555 3V0V-3C120.022 -3 112.501 -0.934345 106.125 3.31635L107.789 5.8125ZM65.4844 64.1719V67.1719H77.3906V64.1719V61.1719H65.4844V64.1719ZM77.3906 64.1719H74.3906V80.4375H77.3906H80.3906V64.1719H77.3906ZM77.3906 80.4375V77.4375H65.4844V80.4375V83.4375H77.3906V80.4375ZM65.4844 80.4375H62.4844V97.3125H65.4844H68.4844V80.4375H65.4844ZM65.4844 97.3125V94.3125H46.0781V97.3125V100.312H65.4844V97.3125ZM46.0781 97.3125H49.0781V80.4375H46.0781H43.0781V97.3125H46.0781ZM46.0781 80.4375V77.4375H0V80.4375V83.4375H46.0781V80.4375ZM0 80.4375H3V64.4531H0H-3V80.4375H0ZM0 64.4531L2.53284 66.0608L42.611 2.92021L40.0781 1.3125L37.5453 -0.295205L-2.53284 62.8454L0 64.4531ZM40.0781 1.3125V4.3125H65.4844V1.3125V-1.6875H40.0781V1.3125ZM65.4844 1.3125H62.4844V64.1719H65.4844H68.4844V1.3125H65.4844ZM245.824 1.3125H242.824V64.1719H245.824H248.824V1.3125H245.824ZM245.824 64.1719V67.1719H257.73V64.1719V61.1719H245.824V64.1719ZM257.73 64.1719H254.73V80.4375H257.73H260.73V64.1719H257.73ZM257.73 80.4375V77.4375H245.824V80.4375V83.4375H257.73V80.4375ZM245.824 80.4375H242.824V97.3125H245.824H248.824V80.4375H245.824ZM245.824 97.3125V94.3125H226.418V97.3125V100.312H245.824V97.3125ZM226.418 97.3125H229.418V80.4375H226.418H223.418V97.3125H226.418ZM226.418 80.4375V77.4375H180.34V80.4375V83.4375H226.418V80.4375ZM180.34 80.4375H183.34V64.4531H180.34H177.34V80.4375H180.34ZM180.34 64.4531L182.873 66.0608L222.951 2.92021L220.418 1.3125L217.885 -0.295205L177.807 62.8454L180.34 64.4531ZM220.418 1.3125V4.3125H245.824V1.3125V-1.6875H220.418V1.3125ZM128.555 16.6406V13.6406C121.84 13.6406 116.574 17.1055 112.857 23.3003L115.43 24.8438L118.002 26.3872C120.848 21.6445 124.332 19.6406 128.555 19.6406V16.6406ZM115.43 24.8438L112.857 23.3003C109.164 29.4553 107.493 38.2883 107.461 49.3977L110.461 49.4062L113.461 49.4148C113.492 38.7117 115.133 31.1697 118.002 26.3872L115.43 24.8438ZM110.461 49.4062H107.461C107.461 56.9572 108.21 63.424 109.789 68.7304L112.664 67.875L115.54 67.0196C114.181 62.451 113.461 56.6053 113.461 49.4062H110.461ZM112.664 67.875L109.795 68.7521C111.393 73.9794 113.729 78.2102 116.975 81.1585L118.992 78.9375L121.009 76.7165C118.818 74.7273 116.935 71.5831 115.533 66.9979L112.664 67.875ZM118.992 78.9375L116.99 81.1712C120.259 84.1028 124.16 85.5938 128.555 85.5938V82.5938V79.5938C125.637 79.5938 123.162 78.6472 120.995 76.7038L118.992 78.9375ZM128.555 82.5938V85.5938C135.31 85.5938 140.593 82.087 144.307 75.8275L141.727 74.2969L139.146 72.7663C136.297 77.5693 132.799 79.5938 128.555 79.5938V82.5938ZM141.727 74.2969L144.307 75.8275C147.998 69.605 149.633 60.6597 149.602 49.3978L146.602 49.4062L143.602 49.4147C143.632 60.2778 142.018 67.9263 139.146 72.7663L141.727 74.2969ZM146.602 49.4062H149.602C149.602 41.9434 148.836 35.5577 147.217 30.3313L144.352 31.2188L141.486 32.1062C142.867 36.5673 143.602 42.3066 143.602 49.4062H146.602ZM144.352 31.2188L147.222 30.3482C145.653 25.1735 143.329 20.9823 140.073 18.0632L138.07 20.2969L136.068 22.5306C138.249 24.4864 140.112 27.5765 141.481 32.0893L144.352 31.2188ZM138.07 20.2969L140.086 18.0747C136.842 15.1324 132.95 13.6406 128.555 13.6406V16.6406V19.6406C131.472 19.6406 133.924 20.5864 136.055 22.519L138.07 20.2969ZM226.043 23.4375L223.507 21.835L198.241 61.8193L200.777 63.4219L203.313 65.0244L228.579 25.04L226.043 23.4375ZM200.777 63.4219H197.777V64.1719H200.777H203.777V63.4219H200.777ZM200.777 64.1719V67.1719H226.793V64.1719V61.1719H200.777V64.1719ZM226.793 64.1719H229.793V23.4375H226.793H223.793V64.1719H226.793ZM226.793 23.4375V20.4375H226.043V23.4375V26.4375H226.793V23.4375ZM20.4375 63.4219H17.4375V64.1719H20.4375H23.4375V63.4219H20.4375ZM20.4375 64.1719V67.1719H46.4531V64.1719V61.1719H20.4375V64.1719ZM46.4531 64.1719H49.4531V23.4375H46.4531H43.4531V64.1719H46.4531ZM46.4531 23.4375V20.4375H45.7031V23.4375V26.4375H46.4531V23.4375ZM45.7031 23.4375L43.167 21.835L17.9014 61.8193L20.4375 63.4219L22.9736 65.0244L48.2392 25.04L45.7031 23.4375Z" fill="#8B4512" mask="url(#path-1-inside-1_217_4)" />
                    </svg>
                </div>
                <strong>Запрашиваемая вами страница не найдена :(</strong>
                <div class="error-oage__content__message">Воспользуйтесь нашим <a href="/catalog">каталогом</a> или поиском для выбора подходящей модели</div>
                <a href="<?php echo site_url() ?>" class="btn">Перейти на главную</a>
            </div>

            <?php
            $categories = get_terms([
                'taxonomy'   => 'product_cat',
                'hide_empty' => true,
                'parent'     => 0,
            ]);

            if (empty($categories) || is_wp_error($categories)) {
                return;
            }

            $placeholder = function_exists('wc_placeholder_img_src')
                ? wc_placeholder_img_src()
                : get_template_directory_uri() . '/assets/img/placeholder.jpg';
            ?>



            <h2>Ассортимент</h2>

            <div class="swiper categories-swiper">

                <ul class="product-categories swiper-wrapper">

                    <?php foreach ($categories as $category) :

                        $link = get_term_link($category);
                        if (is_wp_error($link)) {
                            continue;
                        }

                        $thumbnail_id = get_term_meta($category->term_id, 'thumbnail_id', true);

                        $image_url = $thumbnail_id
                            ? wp_get_attachment_image_url($thumbnail_id, 'full')
                            : $placeholder;
                    ?>
                        <li class="product-category swiper-slide">
                            <a href="<?php echo esc_url($link); ?>">
                                <div class="product-category__image">
                                    <img src="<?php echo esc_url($image_url); ?>"
                                        alt="<?php echo esc_attr($category->name); ?>"
                                        loading="lazy">
                                </div>

                                <span class="product-category__title">
                                    <?php echo esc_html($category->name); ?>
                                </span>
                            </a>
                        </li>
                    <?php endforeach; ?>

                    <li class="product-category product-category--show-all swiper-slide">
                        <a href="<?php echo esc_url(get_permalink(wc_get_page_id('shop'))); ?>">
                            <div class="product-category__image">
                                <img src="<?php echo esc_url($placeholder); ?>"
                                    alt="Смотреть все"
                                    loading="lazy">
                            </div>

                            <span class="product-category__title">
                                Смотреть все
                            </span>
                        </a>
                    </li>

                </ul>

                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-pagination"></div>

            </div>
        </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {

        const categoriesSwiper = new Swiper('.categories-swiper', {
            slidesPerView: 2,
            spaceBetween: 16,
            loop: false,

            navigation: {
                nextEl: '.categories-swiper .swiper-button-next',
                prevEl: '.categories-swiper .swiper-button-prev',
            },

            pagination: {
                el: '.categories-swiper .swiper-pagination',
                clickable: true,
            },

            breakpoints: {
                576: {
                    slidesPerView: 2.3,
                },
                768: {
                    slidesPerView: 3,
                },
                1024: {
                    slidesPerView: 4,
                }
            }
        });

    });
</script>

<?php get_footer() ?>